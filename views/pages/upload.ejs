<%- include("./../partials/header.ejs") %>
<div class="p-4">
    <div class="mb-14 grid gap-4">
        <div class="flex h-24 items-center">
            <p class="font-sans text-5xl font-semibold text-gray-700">
                Uploads
            </p>
        </div>
    </div>
    <div class="mb-4 grid gap-4">
        <form
            class="flex w-full flex-col items-center justify-center"
            method="POST"
            enctype="multipart/form-data"
        >
            <label
                for="dropzone-file"
                class="flex h-64 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-sky-400 bg-white hover:bg-sky-100"
            >
                <div
                    class="flex flex-col items-center justify-center pb-6 pt-5"
                >
                    <img
                        src="/img/cloud.png"
                        class="mr-3 h-12"
                        alt="upload icon"
                    />
                    <p
                        class="mb-2 font-sans text-lg font-semibold text-gray-500"
                    >
                        Click to upload a CSV file
                    </p>
                </div>
                <input
                    id="dropzone-file"
                    type="file"
                    class="hidden"
                    name="csvFile"
                    accept=".csv"
                    required
                />
            </label>
            <input
                class="my-6 rounded-full border-2 border-sky-400 bg-sky-400 px-10 py-2 font-sans font-bold text-white hover:cursor-pointer hover:bg-white hover:text-sky-400"
                type="submit"
                name="doit"
                value="Upload Users"
            />
        </form>
    </div>
    <% if (upload !== "") { %> <% if (upload === "failed") { %>
    <div class="mb-4 grid gap-4">
        <div class="flex h-14 justify-center gap-4 text-red-400">
            <p class="px-4 text-xl">
                Something went wrong and nothing has been uploaded
            </p>
        </div>
    </div>
    <% } else { %>
    <div class="mb-4 grid gap-4">
        <div class="flex h-14 justify-center gap-4 text-gray-500">
            <p class="px-4 text-xl">
                You have successfully uploaded <%= upload %> new users
            </p>
        </div>
    </div>
    <% }; %> <% }; %>
</div>

<%- include("./../partials/footer.ejs") %>
